<!DOCTYPE html><html lang="tr">
<head>
<meta charset="UTF-8">
<title>haritadan.com ‚Äì √úyelik & ƒ∞lan Detay Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
html,body{height:100%}
:root{--h:56px}
header{position:fixed;top:0;left:0;width:100%;height:64px;background:#111;color:#fff;display:flex;align-items:center;padding:0 16px;z-index:1000}
.logo{font-size:20px;font-weight:bold}
.logo span{color:#3fa9f5}
#map{margin-top:64px;height:calc(100vh - 64px)}
#addBtn{position:fixed;bottom:76px;right:16px;z-index:999;padding:14px 18px;border:none;border-radius:999px;background:#3fa9f5;color:#fff;font-size:16px;box-shadow:0 6px 18px rgba(0,0,0,.3)}
#detailPanel{position:fixed;top:0;right:-360px;width:360px;max-width:92vw;height:100%;background:#fff;box-shadow:-4px 0 10px rgba(0,0,0,.3);padding:16px;transition:.25s;z-index:1001;overflow:auto}
#detailPanel.active{right:0}
#detailPanel h3{margin-bottom:8px}
/* Mobile bottom bar */
.mobile-bar{position:fixed;bottom:0;left:0;width:100%;height:var(--h);background:#111;display:flex;justify-content:space-around;align-items:center;z-index:1000}
.mobile-bar button{background:none;border:none;color:#fff;font-size:22px;line-height:1}
/* Mobile-first adjustments */
@media(max-width:768px){
  header{display:none}
  #map{margin-top:0;height:calc(100vh - var(--h))}
  #addBtn{bottom:calc(var(--h) + 16px)}
  /* Bottom sheet instead of side panel */
  #detailPanel{right:0;top:auto;bottom:-70vh;height:70vh;width:100%;max-width:100%;border-radius:16px 16px 0 0;transition:.25s}
  #detailPanel.active{bottom:0}
}
</style>
</head>
<body>
<header><div class="logo">haritadan<span>.com</span></div></header>
<div id="map"></div>
<button id="addBtn">‚ûï ƒ∞lan Ekle</button>
<div id="detailPanel"><h3 id="dTitle"></h3><p id="dCat"></p><p id="dType"></p></div>
<div class="mobile-bar">
<button onclick="filter('all')">üè†</button>
<button onclick="filter('Emlak')">üè°</button>
<button onclick="filter('Ara√ß')">üöó</button>
<button onclick="filter('Etkinlik')">üéâ</button>
<button id="addBtn2">‚ûï</button>
</div>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// USER TYPE: 'bireysel' or 'kurumsal'
let userType='bireysel';
let bireyselLimit=1;
let bireyselCount=0;const map=L.map('map').setView([39,35],6); L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'¬© OSM'}).addTo(map);

let ilanlar=[ {lat:41.01,lng:28.97,title:'Kiralƒ±k Daire',cat:'Emlak',type:'Bireysel'}, {lat:38.42,lng:27.14,title:'Satƒ±lƒ±k Ara√ß',cat:'Ara√ß',type:'Kurumsal'}, {lat:36.89,lng:30.71,title:'Konser',cat:'Etkinlik',type:'Bireysel'} ]; let markers=[];

function render(cat){markers.forEach(m=>map.removeLayer(m));markers=[];ilanlar.filter(i=>cat==='all'||i.cat===cat).forEach(i=>{const m=L.marker([i.lat,i.lng]).addTo(map).on('click',()=>showDetail(i));markers.push(m);});} function filter(c){render(c)} render('all');

function showDetail(i){document.getElementById('dTitle').innerText=i.title;document.getElementById('dCat').innerText='Kategori: '+i.cat;document.getElementById('dType').innerText='√úyelik: '+i.type;document.getElementById('detailPanel').classList.add('active');}

function addIlan(){if(userType==='bireysel'&&bireyselCount>=bireyselLimit){alert('Bireysel √ºyelikte ilan limitiniz doldu');return;}map.once('click',e=>{ilanlar.push({lat:e.latlng.lat,lng:e.latlng.lng,title:'Yeni ƒ∞lan',cat:'Emlak',type:userType==='bireysel'?'Bireysel':'Kurumsal'});if(userType==='bireysel')bireyselCount++;render('all');});alert('Haritada bir nokta se√ß');} document.getElementById('addBtn').onclick=addIlan;document.getElementById('addBtn2').onclick=addIlan; </script>

</body>
</html>
